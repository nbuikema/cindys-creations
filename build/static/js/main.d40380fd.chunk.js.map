{"version":3,"sources":["imgs/logo.png","api.js","components/PrivateRoute.js","components/AdminRoute.js","components/Navbar.js","components/Home.js","components/Contact.js","components/About.js","components/ProductCard.js","components/Loader.js","components/Products.js","components/Product.js","components/Signup.js","components/Signin.js","components/ForgotPassword.js","components/UserAccount.js","components/UserOrders.js","components/UpdateUserAccount.js","components/ManageCategories.js","components/ManageProducts.js","components/ManageOrders.js","components/CreateProduct.js","components/UpdateProduct.js","components/Cart.js","components/Checkout.js","App.js","index.js"],"names":["module","exports","jwtDecode","require","API","process","signout","next","window","localStorage","removeItem","fetch","method","then","response","catch","err","console","log","isAuthenticated","getItem","token","exp","Date","now","JSON","parse","readUser","userId","headers","Accept","Authorization","json","readAllProducts","readQueriedProducts","filters","data","body","stringify","readAllCategories","readProduct","productId","numItemsInCart","length","sessionStorage","readCart","clearCart","readProductsByName","productName","PrivateRoute","Component","component","rest","render","props","to","pathname","state","from","location","AdminRoute","user","role","isActive","history","path","borderBottom","withRouter","className","data-toggle","data-target","src","logo","alt","type","aria-controls","aria-expanded","aria-label","id","style","aria-haspopup","first_name","last_name","aria-labelledby","_id","cursor","onClick","push","Home","Contact","useState","name","email","message","values","setValues","onChange","valueProp","event","target","value","onSubmit","preventDefault","contact","res","error","htmlFor","aria-describedby","rows","About","ProductCard","product","changeCartSize","cartSize","showAddToCart","showCartQuantity","showRemoveFromCart","isClickable","addedToCart","setAddedToCart","count","quantity","setQuantity","moment","format","previousDate","addToCart","item","cart","Array","Set","map","find","setItem","addProductToCart","redirectCart","showAddToCartBtn","forEach","i","updateQuantity","showCartQuantityBtn","splice","removeProductFromCart","showRemoveFromCartBtn","createdAt","updatedAt","undefined","images","url","price","data-ride","image","key","href","data-slide","aria-hidden","data-slide-to","description","Loader","Products","category","userFilters","setUserFilters","categories","setCategories","allProducts","setAllProducts","selectedCategories","setSelectedCategories","setSearching","searchTerm","setSearchTerm","setError","loading","setLoading","initProducts","useEffect","handleFilters","filterBy","newFilters","loadFilteredResults","search","clearFilters","document","getElementsByName","filter","checked","placeholder","c","currentCategory","indexOf","newSelectedCategories","Product","match","params","display","Signup","password","confirm_password","success","Signin","authenticate","redirectSuccess","ForgotPassword","forgotPassword","signinForm","UserAccount","address","city","zip","deleteSuccess","userData","destroy","confirm","deleteUser","redirectDeleteSuccess","UserOrders","orderHistory","init","readOrderHistory","orderData","order","status","fromNow","products","parseFloat","Math","round","toFixed","total_price","updatePassword","confirmPassword","updateUser","auth","update","ManageCategories","categoryId","deleteCategory","createCategory","ManageProducts","deleteProduct","width","ManageOrders","orders","setOrders","statusValues","setStatusValues","initOrders","readAllOrders","initStatusValues","readOrderStatusValues","orderId","updateOrderStatus","deleteOrder","orderEmail","showStatus","CreateProduct","setImages","formData","newProduct","setNewProduct","FormData","selected","includes","files","split","prop","photos","getAll","photo","set","append","entries","pair","createProduct","isFileSelected","getElementsByClassName","accept","UpdateProduct","updateProduct","Cart","setCart","setCartSize","Checkout","clientToken","instance","getToken","erorr","initUser","cartTotal","requestPaymentMethod","paymentData","processPayment","paymentMethodNonce","nonce","amount","createOrder","transaction_id","transaction","required","options","authorization","onInstance","App","exact","UpdateUserAccount","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.d40380fd.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","const jwtDecode = require('jwt-decode');\r\nconst API = process.env.REACT_APP_API_URL;\r\n\r\nexport const signup = user => {\r\n    return fetch(`${API}/auth/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const signin = user => {\r\n    return fetch(`${API}/auth/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n    }).then(response => {\r\n        if(typeof window !== 'undefined') {\r\n            sessionStorage.removeItem('cart');\r\n        }\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n    if(typeof window !== 'undefined') {\r\n        localStorage.setItem('jwt', JSON.stringify(data));\r\n        next();\r\n    }\r\n};\r\n\r\nexport const signout = next => {\r\n    if(typeof window !== 'undefined') {\r\n        localStorage.removeItem('jwt');\r\n        localStorage.removeItem('cart');\r\n        next();\r\n        return fetch(`${API}/auth/signout`, {\r\n            method: 'GET'\r\n        }).then(response => {}).catch(err => {\r\n            console.log(err)\r\n        });\r\n    }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n    if(typeof window === 'undefined') {\r\n        return false;\r\n    }\r\n    if(localStorage.getItem('jwt')) {\r\n        const token = localStorage.getItem('jwt');\r\n        const {exp} = jwtDecode(token);\r\n        const curTime = Date.now() / 1000;\r\n        if(exp > curTime) {\r\n            return JSON.parse(token);\r\n        } else {\r\n            return false;\r\n        }\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n\r\nexport const readUser = (userId, token) => {\r\n    return fetch(`${API}/user/read/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const updateUser = (userId, token, user) => {\r\n    return fetch(`${API}/user/update/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(user)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const update = (user, next) => {\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('jwt')) {\r\n            let auth = JSON.parse(localStorage.getItem('jwt'));\r\n            auth.user = user;\r\n            localStorage.setItem('jwt', JSON.stringify(auth));\r\n            next();\r\n        }\r\n    }\r\n};\r\n\r\nexport const deleteUser = (userId, token) => {\r\n    return fetch(`${API}/user/delete/${userId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const readAllProducts = () => {\r\n    return fetch(`${API}/products/read/all`, {\r\n        method: 'GET'\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const readQueriedProducts = (filters = {}) => {\r\n    const data = {filters};\r\n    return fetch(`${API}/products/read/query`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const readAllCategories = () => {\r\n    return fetch(`${API}/categories/read/all`, {\r\n        method: 'GET'\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const deleteCategory = (categoryId, userId, token) => {\r\n    return fetch(`${API}/category/delete/${categoryId}/${userId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n    return fetch(`${API}/category/create/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(category)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n    return fetch(`${API}/product/create/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const readProduct = productId => {\r\n    return fetch(`${API}/product/read/${productId}`, {\r\n        method: 'GET'\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const updateProduct = (userId, token, productId, product) => {\r\n    return fetch(`${API}/product/update/${productId}/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const deleteProduct = (productId, userId, token) => {\r\n    return fetch(`${API}/product/delete/${productId}/${userId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const addProductToCart = (item, next) => {\r\n    let cart = [];\r\n    if(typeof window !== 'undefined') {\r\n        if(isAuthenticated()) {\r\n            if(localStorage.getItem('cart')) {\r\n                cart = JSON.parse(localStorage.getItem('cart'));\r\n            }\r\n            cart.push({...item, count: 1});\r\n            cart = Array.from(new Set(cart.map(product => product._id))).map(id => {\r\n                return cart.find(product => product._id === id);\r\n            });\r\n            localStorage.setItem('cart', JSON.stringify(cart));\r\n            next();\r\n        } else {\r\n            if(sessionStorage.getItem('cart')) {\r\n                cart = JSON.parse(sessionStorage.getItem('cart'));\r\n            }\r\n            cart.push({...item, count: 1});\r\n            cart = Array.from(new Set(cart.map(product => product._id))).map(id => {\r\n                return cart.find(product => product._id === id);\r\n            });\r\n            sessionStorage.setItem('cart', JSON.stringify(cart));\r\n            next();\r\n        }\r\n    }\r\n};\r\n\r\nexport const numItemsInCart = () => {\r\n    if(typeof window !== 'undefined') {\r\n        if(isAuthenticated()) {\r\n            if(localStorage.getItem('cart')) {\r\n                return JSON.parse(localStorage.getItem('cart')).length;\r\n            }\r\n        } else {\r\n            if(sessionStorage.getItem('cart')) {\r\n                return JSON.parse(sessionStorage.getItem('cart')).length;\r\n            }\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\nexport const readCart = () => {\r\n    if(typeof window !== 'undefined') {\r\n        if(isAuthenticated()) {\r\n            if(localStorage.getItem('cart')) {\r\n                return JSON.parse(localStorage.getItem('cart'));\r\n            }\r\n        } else {\r\n            if(sessionStorage.getItem('cart')) {\r\n                return JSON.parse(sessionStorage.getItem('cart'));\r\n            }\r\n        }\r\n    }\r\n    return [];\r\n};\r\n\r\nexport const updateQuantity = (productId, count) => {\r\n    let cart = [];\r\n    if(typeof window !== 'undefined') {\r\n        if(isAuthenticated()) {\r\n            if(localStorage.getItem('cart')) {\r\n                cart = JSON.parse(localStorage.getItem('cart'));\r\n            }\r\n            cart.forEach((product, i) => {\r\n                if(product._id === productId) {\r\n                    cart[i].count = count;\r\n                }\r\n            });\r\n            localStorage.setItem('cart', JSON.stringify(cart));\r\n        } else {\r\n            if(sessionStorage.getItem('cart')) {\r\n                cart = JSON.parse(sessionStorage.getItem('cart'));\r\n            }\r\n            cart.forEach((product, i) => {\r\n                if(product._id === productId) {\r\n                    cart[i].count = count;\r\n                }\r\n            });\r\n            sessionStorage.setItem('cart', JSON.stringify(cart));\r\n        }\r\n    }\r\n};\r\n\r\nexport const removeProductFromCart = productId => {\r\n    let cart = [];\r\n    if(typeof window !== 'undefined') {\r\n        if(isAuthenticated()) {\r\n            if(localStorage.getItem('cart')) {\r\n                cart = JSON.parse(localStorage.getItem('cart'));\r\n            }\r\n            cart.forEach((product, i) => {\r\n                if(product._id === productId) {\r\n                    cart.splice(i, 1);\r\n                }\r\n            });\r\n            localStorage.setItem('cart', JSON.stringify(cart));\r\n        } else {\r\n            if(sessionStorage.getItem('cart')) {\r\n                cart = JSON.parse(sessionStorage.getItem('cart'));\r\n            }\r\n            cart.forEach((product, i) => {\r\n                if(product._id === productId) {\r\n                    cart.splice(i, 1);\r\n                }\r\n            });\r\n            sessionStorage.setItem('cart', JSON.stringify(cart));\r\n        }\r\n    }\r\n    return cart;\r\n};\r\n\r\nexport const getClientToken = () => {\r\n    return fetch(`${API}/braintree/token`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const processPayment = paymentData => {\r\n    return fetch(`${API}/braintree/payment`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(paymentData)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const clearCart = (next) => {\r\n    if(typeof window !== 'undefined') {\r\n        if(isAuthenticated()) {\r\n            localStorage.removeItem('cart');\r\n        }\r\n        else {\r\n            sessionStorage.removeItem('cart');\r\n        }\r\n        next();\r\n    }\r\n};\r\n\r\nexport const createOrder = (order) => {\r\n    return fetch(`${API}/order/create`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(order)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const readAllOrders = (userId, token) => {\r\n    return fetch(`${API}/orders/read/all/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const readOrderStatusValues = (userId, token) => {\r\n    return fetch(`${API}/order/status/values/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const updateOrderStatus = (userId, token, orderId, status) => {\r\n    return fetch(`${API}/order/status/update/${orderId}/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({status, orderId})\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const readOrderHistory = (userId, token) => {\r\n    return fetch(`${API}/user/read/orders/${userId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const readOrdersByEmail = (orderEmail) => {\r\n    return fetch(`${API}/orders/read/email/${orderEmail}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const readProductsByName = (productName) => {\r\n    return fetch(`${API}/products/read/name/${productName}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const forgotPassword = (email) => {\r\n    return fetch(`${API}/auth/password/forgot`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({email})\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const contact = (data) => {\r\n    return fetch(`${API}/contact`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const deleteOrder = (orderId, userId, token) => {\r\n    return fetch(`${API}/order/delete/${orderId}/${userId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport {isAuthenticated} from '../api';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => isAuthenticated() ? (\r\n            <Component {...props} />\r\n        ) : (\r\n            <Redirect to={{pathname: '/signin', state: {from: props.location}}}/>\r\n        )}\r\n    />\r\n);\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport {isAuthenticated} from '../api';\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n                <Component {...props} />\r\n            ) : (\r\n                <Redirect to={{pathname: '/signin', state: {from: props.location}}}/>\r\n            )}\r\n    />\r\n);\r\n\r\nexport default AdminRoute;","import React from 'react';\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport {signout, isAuthenticated, numItemsInCart} from '../api';\r\n\r\nimport logo from '../imgs/logo.png';\r\n\r\nconst isActive = (history, path) => {\r\n    if(history.location.pathname === path) {\r\n        return {borderBottom: '2px solid #FFFFFF'};\r\n    }\r\n}\r\n\r\nconst Navbar = ({history}) => (\r\n    <div className='sticky-top'>\r\n        <nav className='navbar navbar-expand-lg navbar-dark bg-dark'>\r\n            <div className='container'>\r\n                <ul className='navbar-nav mr-auto mt-lg-0'>\r\n                    <li className='nav-item' data-toggle='collapse' data-target='.navbar-collapse.show'>\r\n                        <Link className='navbar-brand' to='/'>\r\n                            <img className='navlogo' src={logo} alt='' />\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n                <button className='navbar-toggler custom-toggler' type='button' data-toggle='collapse' data-target='#navbarToggler' aria-controls='navbarToggler' aria-expanded='false' aria-label='Toggle Navigation'>\r\n                    <span className='navbar-toggler-icon'></span>\r\n                </button>\r\n                <div className='collapse navbar-collapse' id='navbarToggler'>\r\n                    <ul className='navbar-nav mr-auto mt-2 mt-lg-0'>\r\n                        <li className='nav-item' data-toggle='collapse' data-target='.navbar-collapse.show'>\r\n                            <Link className='nav-link' to='/products' style={isActive(history, '/products')}>\r\n                                Products\r\n                            </Link>\r\n                        </li>\r\n                        <li className='nav-item' data-toggle='collapse' data-target='.navbar-collapse.show'>\r\n                            <Link className='nav-link' to='/contact' style={isActive(history, '/contact')}>\r\n                                Contact\r\n                            </Link>\r\n                        </li>\r\n                        <li className='nav-item' data-toggle='collapse' data-target='.navbar-collapse.show'>\r\n                            <Link className='nav-link' to='/about' style={isActive(history, '/about')}>\r\n                                About\r\n                            </Link>\r\n                        </li>\r\n                    </ul>\r\n                    <div className='dropdown-divider'></div>\r\n                    {!isAuthenticated() && (\r\n                        <ul className='navbar-nav ml-auto mt-2 mt-lg-0'>\r\n                            <li className='nav-item' data-toggle='collapse' data-target='.navbar-collapse.show'>\r\n                                <Link className='nav-link' to='/cart' style={isActive(history, '/cart')}>\r\n                                    <i className=\"fas fa-shopping-cart\"></i> <sup>{numItemsInCart()}</sup>\r\n                                </Link>\r\n                            </li>\r\n                            <li className='nav-item' data-toggle='collapse' data-target='.navbar-collapse.show'>\r\n                                <Link className='nav-link' to='/signup' style={isActive(history, '/signup')}>\r\n                                    Sign Up\r\n                                </Link>\r\n                            </li>\r\n                            <li className='nav-item' data-toggle='collapse' data-target='.navbar-collapse.show'>\r\n                                <Link className='nav-link' to='/signin' style={isActive(history, '/signin')}>\r\n                                    Sign In\r\n                                </Link>\r\n                            </li>\r\n                        </ul>\r\n                    )} {isAuthenticated() && (\r\n                        <ul className='navbar-nav ml-auto mt-2 mt-lg-0'>\r\n                            <li className='nav-item' data-toggle='collapse' data-target='.navbar-collapse.show'>\r\n                                <Link className='nav-link' to='/cart' style={isActive(history, '/cart')}>\r\n                                    <i className=\"fas fa-shopping-cart\"></i> <sup>{numItemsInCart()}</sup>\r\n                                </Link>\r\n                            </li>\r\n                            <li className='nav-item dropdown' data-toggle='collapse' data-target='.navbar-collapse.show'>\r\n                                <Link className='nav-link dropdown-toggle' to='/' id='navbarDropdown' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false'>\r\n                                    {`${isAuthenticated().user.first_name} ${isAuthenticated().user.last_name} `} <span className='dropdown-caret'>&#9660;</span>\r\n                                </Link>\r\n                                <div className='dropdown-menu' aria-labelledby='navbarDropdown'>\r\n                                    <Link className='dropdown-item' to={`/${isAuthenticated().user._id}/account`}>\r\n                                        My Account\r\n                                    </Link>\r\n                                    <Link className='dropdown-item' to={`/${isAuthenticated().user._id}/orders`}>\r\n                                        My Orders\r\n                                    </Link>\r\n                                    {isAuthenticated().user.role === 1 ? (\r\n                                        <div>\r\n                                            <div className='dropdown-divider'></div>\r\n                                            <Link className='dropdown-item' to='/manage/categories'>\r\n                                                Manage Categories\r\n                                            </Link>\r\n                                            <Link className='dropdown-item' to='/manage/products'>\r\n                                                Manage Products\r\n                                            </Link>\r\n                                            <Link className='dropdown-item' to='/manage/orders'>\r\n                                                Manage Orders\r\n                                            </Link>\r\n                                        </div>\r\n                                    ) : ''}\r\n                                    <div className='dropdown-divider'></div>\r\n                                    <span className='dropdown-item' style={{cursor: 'pointer'}} onClick={() => signout(() => {history.push('/');})}>\r\n                                        Sign Out\r\n                                    </span>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    </div>\r\n);\r\n\r\nexport default withRouter(Navbar);","import React from 'react';\r\n\r\nconst Home = () => {\r\n    return (\r\n        <div className='home-container'>\r\n            <div className='home'></div>\r\n            <h1 className='home-heading d-block d-xl-none'>Cindy's Creations</h1>\r\n            <h1 className='home-heading hh-lg d-none d-xl-block'>Cindy's Creations</h1>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;","import React, {useState} from 'react';\r\nimport {contact} from '../api';\r\n\r\nconst Contact = () => {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        email: '',\r\n        message: ''\r\n    });\r\n    const {name, email, message} = values;\r\n\r\n    const onChange = valueProp => event => {\r\n        setValues({...values, [valueProp]: event.target.value, error: ''});\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        const data = {name, email, message};\r\n        contact(data).then(res => {\r\n            if(res.error) {\r\n                console.log(res.error);\r\n            } else {\r\n                console.log(res);\r\n            }\r\n        });\r\n    };\r\n\r\n    const contactForm = () => (\r\n        <form className='mt-3'>\r\n            <div className='form-group'>\r\n                <label htmlFor='name'>Name</label>\r\n                <input onChange={onChange('name')} value={name} type='text' className='form-control' id='name' />\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='email'>Email Address</label>\r\n                <input onChange={onChange('email')} value={email} type='email' className='form-control' id='email' aria-describedby='email' />\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='message'>Message</label>\r\n                <textarea onChange={onChange('message')} value={message} rows='4' className='form-control' id='message' aria-describedby='message'></textarea>\r\n            </div>\r\n            <div className='text-center'>\r\n                <button onClick={onSubmit} type='submit' className='btn btn-primary-inverse mb-3'>Get In Touch</button>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className='container'>\r\n            <h1 className='text-center mt-3'>Contact Me</h1>\r\n            <h4 className='text-center'>creationsfromcindy@gmail.com</h4>\r\n            {contactForm()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Contact;","import React from 'react';\r\n\r\nconst About = () => {\r\n    return (\r\n        <div className='container'>\r\n            <h1 className='text-center mt-3'>About Me</h1>\r\n            <div className='row mt-3'>\r\n                <div className='col-sm-12 col-md-6'>\r\n                    <p className='d-none d-lg-block about-lg'><div className='hello text-center'>Hello!</div> My name is Cindy Roach and I have been sewing and quilting for over 34 years. All of my creations are made with high-quality fabrics in a smoke-free and pet-free environment. I am passionate about coming up with unique designs that can be used as gifts for others, or even for yourself!. Feel free to have a look at my creations, or contact me with any questions or concerns.</p>\r\n                    <p className='d-md-block d-lg-none about-sm'><div className='hello hello-sm'>Hello!</div> My name is Cindy Roach and I have been sewing and quilting for over 34 years. All of my creations are made with high-quality fabrics in a smoke-free and pet-free environment. I am passionate about coming up with unique designs that can be used as gifts for others, or even for yourself!. Feel free to have a look at my creations, or contact me with any questions or concerns.</p>\r\n                </div>\r\n                <div className='col-sm-12 col-md-6 align-self-center'>\r\n                    <img className='about-img' src='/imgs/cindy.jpeg' alt='' />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default About;","import React, {useState} from 'react';\r\nimport moment from 'moment';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport {readCart, addProductToCart, updateQuantity, removeProductFromCart} from '../api';\r\nconst API = process.env.REACT_APP_API_URL;\r\n\r\nconst ProductCard = ({product, changeCartSize, cartSize, showAddToCart = true, showCartQuantity = false, showRemoveFromCart = false, isClickable = true}) => {\r\n    const [addedToCart, setAddedToCart] = useState(false);\r\n    const [quantity, setQuantity] = useState(product.count);\r\n    const [previousDate] = useState(moment((Date.now() - (30 * 24 * 60 * 60 * 1000))).format('MMMM Do, YYYY'));\r\n\r\n    const addToCart = () => {\r\n        addProductToCart(product, () => {\r\n            setAddedToCart(true);\r\n        });\r\n    };\r\n\r\n    const redirectCart = () => {\r\n        if(addedToCart) {\r\n            return <Redirect to='/cart' />;\r\n        }\r\n    };\r\n\r\n    const showAddToCartBtn = (showAddToCart) => showAddToCart && ( \r\n        <button onClick={addToCart} className='btn btn-secondary mx-4'>\r\n            Add to Cart\r\n        </button>\r\n    );\r\n\r\n    const onChange = productId => event => {\r\n        setQuantity(event.target.value < 1 ? 1 : event.target.value);\r\n        if (event.target.value >= 1) {\r\n            updateQuantity(productId, event.target.value);\r\n        }\r\n    };\r\n\r\n    const showCartQuantityBtn = (showCartQuantity) => showCartQuantity && (\r\n        <div className='input-group justify-content-center'>\r\n            <span className='input-group-text quantity-tag'>Quantity</span>\r\n            <input className='form-control quantity' type='number' value={quantity} onChange={onChange(product._id)} />\r\n        </div>\r\n    );\r\n\r\n    const onClick = productId => {\r\n        removeProductFromCart(productId);\r\n        changeCartSize(readCart().length);\r\n    };\r\n\r\n    const showRemoveFromCartBtn = showRemoveFromCart => showRemoveFromCart && (\r\n        <button onClick={() => onClick(product._id)} className='btn btn-danger mt-2'>\r\n            Remove Product\r\n        </button>\r\n    );\r\n\r\n    const showRibbons = () => {\r\n        if(moment(product.createdAt).format('MMMM Do, YYYY') > previousDate) {\r\n            return <div className='corner-ribbon blue-ribbon'>New!</div>;\r\n        } else if(moment(product.updatedAt).format('MMMM Do, YYYY') > previousDate) {\r\n            return <div className='corner-ribbon orange-ribbon'>Updated!</div>;\r\n        }\r\n    };\r\n\r\n    const showButtons = () => showAddToCart ? (\r\n        <div className='text-center btns-products'>\r\n            {showAddToCartBtn(showAddToCart)}\r\n            {showCartQuantityBtn(showCartQuantity)}\r\n            {showRemoveFromCartBtn(showRemoveFromCart)}\r\n        </div>\r\n    ) : (\r\n        <div className='text-center btns-cart'>\r\n            {showAddToCartBtn(showAddToCart)}\r\n            {showCartQuantityBtn(showCartQuantity)}\r\n            {showRemoveFromCartBtn(showRemoveFromCart)}\r\n        </div>\r\n    );\r\n\r\n    const showImages = () => (\r\n        <div id=\"carouselExampleIndicators\" className=\"carousel slide\" data-ride=\"carousel\">\r\n            <div className=\"carousel-inner\">\r\n                {product.images.map((image, i) => {\r\n                    return i === 0 ? (\r\n                        <div key={i} className=\"carousel-item active no-border\">\r\n                            <img src={`${image.url}`} className=\"d-block w-100\" alt=\"...\" />\r\n                        </div>\r\n                    ) : (\r\n                        <div key={i} className=\"carousel-item no-border\">\r\n                            <img src={`${image.url}`} className=\"d-block w-100\" alt=\"...\" />\r\n                        </div>\r\n                    );\r\n                })}\r\n                <a className=\"carousel-control-prev\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"prev\">\r\n                    <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                    <span className=\"sr-only\">Previous</span>\r\n                </a>\r\n                <a className=\"carousel-control-next\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"next\">\r\n                    <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                    <span className=\"sr-only\">Next</span>\r\n                </a>\r\n            </div>\r\n            <ol className=\"carousel-indicators row\">\r\n                {product.images.length > 0 && product.images.map((image, i) => {\r\n                    return i === 0 ? (\r\n                        <li className='col-2 px-0 mb-0 active' key={i} data-target=\"#carouselExampleIndicators\" data-slide-to={i}>\r\n                            <img src={`${image.url}`} className=\"d-block w-100 h-100\" alt=\"...\" />\r\n                        </li>\r\n                    ) : (\r\n                        <li className='col-2 px-0 mb-0' key={i} data-target=\"#carouselExampleIndicators\" data-slide-to={i}>\r\n                            <img src={`${image.url}`} className=\"d-block w-100 h-100\" alt=\"...\" />\r\n                        </li>\r\n                    );\r\n                })}\r\n            </ol>\r\n        </div>\r\n    );\r\n\r\n    return isClickable ? (\r\n        <div className='h-100 hide-ribbon'>\r\n            <Link className='card text-center h-100' to={`/product/${product._id}`}>\r\n                {redirectCart()}\r\n                {showRibbons()}\r\n                {product._id !== undefined ? (\r\n                    <img className='card-img-top' src={`${product.images[0].url}`} alt={product.name} />\r\n                ) : null}\r\n                <div className='card-body'>\r\n                    <h5 className='card-title'>{product.name}</h5>\r\n                    <p className='card-text'>${product.price}</p>\r\n                </div>\r\n            </Link>\r\n            {showButtons()}\r\n        </div>\r\n    ) : (\r\n        <div className='card'>\r\n            {redirectCart()}\r\n            <h1 className='card-title text-center mb-3'>{product.name}</h1>\r\n            <div className='row'>\r\n                {product._id !== undefined ? (\r\n                    <div className='col-12 col-md-8'>\r\n                        {showImages()}\r\n                    </div>\r\n                ) : null}\r\n                {console.log(product.images)}\r\n                <div className='card-body col-12 col-md-4'>\r\n                    <p className='card-text'>${product.price}</p>\r\n                    <p className='card-text'>{product.description}</p>\r\n                    <p className='card-text'>Added {moment(product.createdAt).format('MMMM Do, YYYY')}</p>\r\n                    <p className='card-text'>Last Updated {moment(product.updatedAt).format('MMMM Do, YYYY')}</p>\r\n                </div>\r\n            </div>\r\n            <div className='text-center'>\r\n                {showAddToCartBtn(showAddToCart)}\r\n                {showCartQuantityBtn(showCartQuantity)}\r\n                {showRemoveFromCartBtn(showRemoveFromCart)}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductCard;","import React from 'react';\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div>\r\n            <div className='loader'></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loader;","import React, { useState, useEffect } from 'react';\r\nimport {readAllCategories, readProductsByName, readAllProducts, readQueriedProducts} from '../api';\r\n\r\nimport ProductCard from './ProductCard';\r\nimport Loader from './Loader';\r\n\r\nconst Products = () => {\r\n    const [userFilters, setUserFilters] = useState({\r\n        filters: {\r\n            category: []\r\n        }\r\n    });\r\n    const [categories, setCategories] = useState([]);\r\n    const [allProducts, setAllProducts] = useState([]);\r\n    const [selectedCategories, setSelectedCategories] = useState([]);\r\n    const [searching, setSearching] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [error, setError] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const initCategories = () => {\r\n        readAllCategories().then(data => {\r\n            if(data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setCategories(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const initProducts = () => {\r\n        readAllProducts().then(data => {\r\n            if(data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setAllProducts(data);\r\n                setLoading(false);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        initCategories();\r\n        initProducts();\r\n    }, []);\r\n\r\n    const handleToggle = c => () => {\r\n        const currentCategory = selectedCategories.indexOf(c);\r\n        const newSelectedCategories = [...selectedCategories];\r\n        if(currentCategory === -1) {\r\n            newSelectedCategories.push(c);\r\n        } else {\r\n            newSelectedCategories.splice(currentCategory, 1);\r\n        }\r\n        setSelectedCategories(newSelectedCategories);\r\n        handleFilters(newSelectedCategories, 'category');\r\n    };\r\n\r\n    const handleFilters = (filters, filterBy) => {\r\n        const newFilters = {...userFilters};\r\n        newFilters.filters[filterBy] = filters;\r\n        setSearchTerm('');\r\n        setUserFilters(newFilters);\r\n        if(newFilters.filters.category.length === 0) {\r\n            initProducts();\r\n        } else {\r\n            loadFilteredResults(userFilters.filters);\r\n        }\r\n    };\r\n\r\n    const loadFilteredResults = newFilters => {\r\n        readQueriedProducts(newFilters).then(data => {\r\n            if(data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setAllProducts(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const showProducts = () => (\r\n        <div>\r\n            <div className='row'>\r\n                {allProducts.map((product, i) => (\r\n                    <div key={i} className='col-xs-12 col-sm-6 col-md-4 col-xl-3 mb-4'>\r\n                        <ProductCard product={product} />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const toggleFiltersOff = () => {\r\n        const filtersArray = document.getElementsByName('filters');\r\n        filtersArray.forEach(filter => {\r\n            if(filter.checked) {\r\n                filter.checked = false;\r\n            }\r\n        })\r\n    }\r\n\r\n    const onSearchChange = event => {\r\n        const search = event.target.value;\r\n        if(search.length === 0) {\r\n            setSearchTerm('');\r\n            setSearching(false);\r\n            initProducts();\r\n        } else {\r\n            readProductsByName(event.target.value).then(data => {\r\n                if(data.error) {\r\n                    console.log(data.error);\r\n                } else {\r\n                    const clearFilters = {...userFilters};\r\n                    clearFilters.filters.category = [];\r\n                    setUserFilters(clearFilters);\r\n                    setSelectedCategories([]);\r\n                    toggleFiltersOff();\r\n                    setSearchTerm(search);\r\n                    setSearching(true);\r\n                    setAllProducts(data);\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className='container mb-3'>\r\n                <h1 className='text-center mt-3'>My Creations</h1>\r\n                {selectedCategories.length > 0 || searchTerm.length !== 0 ? (\r\n                    <h4 className={`text-center ${loading ? 'd-none' : ''}`}>Showing {`${allProducts.length}`} Found Products</h4>\r\n                ) : (\r\n                    <h4 className={`text-center ${loading ? 'd-none' : ''}`}>Showing All Products</h4>\r\n                )}\r\n                {loading ? (\r\n                    <Loader />\r\n                ) : (\r\n                    <div className='row mt-3'>\r\n                        <div className='col-md-12 col-lg-3'>\r\n                            <a className='d-lg-none' data-toggle='collapse' href='#collapseFilters' role='button' aria-expanded='false' aria-controls='collapseFilters'>\r\n                                <h4 className='text-center'>Toggle Search Filters</h4>\r\n                            </a>\r\n                            <div className='collapse d-lg-block' id='collapseFilters'>\r\n                                <h4>Filter By</h4>\r\n                                <div className='ml-3'>\r\n                                    <h5>Name</h5>\r\n                                    <div className='form-group mr-3'>\r\n                                        <input onChange={onSearchChange} value={searchTerm} type='text' className='form-control ml-3' id='searchProducts' aria-describedby='searchProducts' placeholder='Search products...' />\r\n                                    </div>\r\n                                    <h5>Category</h5>\r\n                                    <ul className='list-group'>\r\n                                        {categories.map((category, i) => (\r\n                                            <li className='list-group-item ml-3' key={i}>\r\n                                                <span><h6 className='d-inline text-down'>{category.name}</h6></span>\r\n                                                <label className='switch'>\r\n                                                    <input onChange={handleToggle(category._id)} value={selectedCategories.indexOf(category._id === -1)} name='filters' type='checkbox' className='primary' />\r\n                                                    <span className='slider'></span>\r\n                                                </label>\r\n                                            </li>\r\n                                        ))}\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='col-md-12 col-lg-9 mt-3'>\r\n                            {showProducts()}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Products;","import React, {useState, useEffect} from 'react';\r\nimport {readProduct} from '../api';\r\n\r\nimport ProductCard from './ProductCard';\r\nimport Loader from './Loader';\r\n\r\nconst Product = ({match}) => {\r\n    const [values, setValues] = useState({\r\n        product: {},\r\n        error: ''\r\n    });\r\n    const {product, error} = values;\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const init = productId => {\r\n        readProduct(productId).then(data => {\r\n            if(data.error) {\r\n                setValues({...values, error: data.error});\r\n            } else {\r\n                setValues({...values, product: data});\r\n                setLoading(false);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init(match.params.productId);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='container mb-3'>\r\n            {showError()}\r\n            {loading ? (\r\n                <Loader />\r\n            ) : (\r\n                <div className='row'>\r\n                    <div className='col-sm-0 col-md-1'></div>\r\n                    <div className='col-sm-12 col-md-10 mt-3'>\r\n                        <ProductCard product={product} isClickable={false} />\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Product;","import React, {useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {signup} from '../api';\r\n\r\nconst Signup = () => {\r\n    const [values, setValues] = useState({\r\n        first_name: '',\r\n        last_name: '',\r\n        email: '',\r\n        password: '',\r\n        confirm_password: '',\r\n        error: '',\r\n        success: false\r\n    });\r\n    const {first_name, last_name, email, password, confirm_password, error, success} = values;\r\n\r\n    const onChange = valueProp => event => {\r\n        setValues({...values, [valueProp]: event.target.value, error: ''});\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({...values, error: ''});\r\n        if(password !== confirm_password) {\r\n            setValues({...values, error: 'Passwords must match.'})\r\n        } else {\r\n            signup({first_name, last_name, email, password}).then(data => {\r\n                if(data.error) {\r\n                    setValues({...values, error: data.error, success: false});\r\n                } else {\r\n                    setValues({\r\n                        ...values,\r\n                        first_name: '',\r\n                        last_name: '',\r\n                        email: '',\r\n                        password: '',\r\n                        confirm_password: '',\r\n                        error: '',\r\n                        success: true\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    const signupForm = () => (\r\n        <form className='mt-3'>\r\n            <div className='row'>\r\n                <div className='col-sm-12 col-md-6'>\r\n                    <div className='form-group'>\r\n                        <label htmlFor='first_name'>First Name</label>\r\n                        <input onChange={onChange('first_name')} value={first_name} type='text' className='form-control' id='first_name' aria-describedby='firstName' />\r\n                    </div>\r\n                </div>\r\n                <div className='col-sm-12 col-md-6'>\r\n                    <div className='form-group'>\r\n                        <label htmlFor='last_name'>Last Name</label>\r\n                        <input onChange={onChange('last_name')} value={last_name} type='text' className='form-control' id='last_name' aria-describedby='lastName' />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='email'>Email Address</label>\r\n                <input onChange={onChange('email')} value={email} type='email' className='form-control' id='email' aria-describedby='email' />\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='password'>Password</label>\r\n                <input onChange={onChange('password')} value={password} type='password' className='form-control' id='password' />\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='confirm_password'>Confirm Password</label>\r\n                <input onChange={onChange('confirm_password')} value={confirm_password} type='password' className='form-control' id='confirm_password' />\r\n            </div>\r\n            <div className='text-center'>\r\n                <button onClick={onSubmit} type='submit' className='btn btn-primary-inverse mb-3'>Sign Up</button>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            You have successfully signed up! Please <Link to='/signin'>sign in</Link>.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <div className='container'>\r\n                <h1 className='text-center mt-3'>Create Account</h1>\r\n                <h4 className='text-center'>Already have an account? <Link to='/signin'>Sign In Now</Link></h4>\r\n                {showError()}\r\n                {showSuccess()}\r\n                {signupForm()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Signup;","import React, {useState} from 'react';\r\nimport {Redirect, Link} from 'react-router-dom';\r\nimport {signin, authenticate} from '../api';\r\n\r\nconst Signin = () => {\r\n    const [values, setValues] = useState({\r\n        email: '',\r\n        password: '',\r\n        error: '',\r\n        success: false\r\n    });\r\n    const {email, password, error, success} = values;\r\n\r\n    const onChange = valueProp => event => {\r\n        setValues({...values, [valueProp]: event.target.value, error: ''});\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({...values, error: ''});\r\n        signin({email, password}).then(data => {\r\n            if(data.error) {\r\n                setValues({...values, error: data.error, success: false});\r\n            } else {\r\n                authenticate(data, () => {\r\n                    setValues({...values, success: true});\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const signinForm = () => (\r\n        <form className='mt-3'>\r\n            <div className='form-group'>\r\n                <label htmlFor='email'>Email Address</label>\r\n                <input onChange={onChange('email')} value={email} type='email' className='form-control' id='email' aria-describedby='email' />\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='password'>Password</label>\r\n                <input onChange={onChange('password')} value={password} type='password' className='form-control' id='password' />\r\n            </div>\r\n            <div className='text-center'>\r\n                <button onClick={onSubmit} type='submit' className='btn btn-primary-inverse'>Sign In</button>\r\n            </div>\r\n            <div className='text-center'>\r\n                <Link className='btn btn-warning mb-3' to={`/password/forgot`}>\r\n                    Forgot Password?\r\n                </Link>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const redirectSuccess = () => {\r\n        if(success) {\r\n            return <Redirect to='/' />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className='container'>\r\n                <h1 className='text-center mt-3'>Welcome Back!</h1>\r\n                <h4 className='text-center'>Don't have an account? <Link to='/signup'>Sign Up Now</Link></h4>\r\n                {showError()}\r\n                {redirectSuccess()}\r\n                {signinForm()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Signin;","import React, {useState} from 'react';\r\nimport {forgotPassword} from '../api';\r\n\r\nconst ForgotPassword = () => {\r\n    const [values, setValues] = useState({\r\n        email: '',\r\n        error: '',\r\n        success: false\r\n    });\r\n    const {email, error, success} = values;\r\n\r\n    const onChange = valueProp => event => {\r\n        setValues({...values, [valueProp]: event.target.value, error: ''});\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({...values, error: ''});\r\n        forgotPassword(email).then(data => {\r\n            if(data.error) {\r\n                setValues({...values, error: data.error});\r\n            } else {\r\n                setValues({...values, success: true});\r\n            }\r\n        });\r\n    };\r\n\r\n    const signinForm = () => (\r\n        <form>\r\n            <div className='form-group'>\r\n                <label htmlFor='email'>Email Address</label>\r\n                <input onChange={onChange('email')} value={email} type='email' className='form-control' id='email' aria-describedby='email' />\r\n            </div>\r\n            <div className='text-center'>\r\n                <button onClick={onSubmit} type='submit' className='btn btn-primary mb-3'>Reset Password</button>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            You will receive an email shortly with instructions for resetting your password.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <div className='container'>\r\n                <h1 className='text-center mt-3'>Reset Password</h1>\r\n                {showError()}\r\n                {showSuccess()}\r\n                {signinForm()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ForgotPassword;","import React, {useState, useEffect} from 'react';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport {isAuthenticated, readUser, deleteUser, signout} from '../api';\r\n\r\nimport Loader from './Loader';\r\n\r\nconst UserAccount = (props) => {\r\n    const [values, setValues] = useState({\r\n        first_name: '',\r\n        last_name: '',\r\n        email: '',\r\n        address: '',\r\n        city: '',\r\n        state: '',\r\n        zip: '',\r\n        role: '',\r\n        createdAt: '',\r\n        updatedAt: '',\r\n        error: '',\r\n        deleteSuccess: false\r\n    });\r\n    const {id, first_name, last_name, email, address, city, state, zip, role, createdAt, updatedAt, error, deleteSuccess} = values;\r\n    const [loading, setLoading] = useState(true);\r\n    \r\n    const {token} = isAuthenticated();\r\n\r\n    const init = userId => {\r\n        readUser(userId, token).then(userData => {\r\n            if(userData.error) {\r\n                setValues({...values, error: 'Could not get the requested user account.'});\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    id: userData._id,\r\n                    first_name: userData.first_name,\r\n                    last_name: userData.last_name,\r\n                    email: userData.email,\r\n                    address: userData.address,\r\n                    city: userData.city,\r\n                    state: userData.state,\r\n                    zip: userData.zip,\r\n                    role: userData.role,\r\n                    createdAt: userData.createdAt,\r\n                    updatedAt: userData.updatedAt,\r\n                    error: ''\r\n                });\r\n                setLoading(false);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init(props.match.params.userId);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const destroy = () => {\r\n        const confirmDelete = window.confirm('Are you sure you want to delete your account? This process cannot be undone.');\r\n        if(confirmDelete) {\r\n            deleteUser(props.match.params.userId, token).then(data => {\r\n                if(data.error) {\r\n                    console.log(data.error);\r\n                } else {\r\n                    signout(() => {\r\n                        setValues({\r\n                            first_name: '',\r\n                            last_name: '',\r\n                            email: '',\r\n                            address: '',\r\n                            city: '',\r\n                            state: '',\r\n                            zip: '',\r\n                            role: '',\r\n                            createdAt: '',\r\n                            updatedAt: '',\r\n                            error: '',\r\n                            deleteSuccess: true\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    const userInfo = () => (\r\n        <div className='mt-3'>\r\n            <form>\r\n                <div className='row'>\r\n                    <div className='col'>\r\n                        <h3>User Info</h3>\r\n                        <div className='form-group row'>\r\n                            <label className='col-sm-3 col-form-label font-weight-bold'>Email</label>\r\n                            <div className='col-sm-9'>\r\n                                <span className='form-control-plaintext'>{email}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className='form-group row'>\r\n                            <label className='col-sm-3 col-form-label font-weight-bold'>First Name</label>\r\n                            <div className='col-sm-9'>\r\n                                <span className='form-control-plaintext'>{first_name}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className='form-group row'>\r\n                            <label className='col-sm-3 col-form-label font-weight-bold'>Last Name</label>\r\n                            <div className='col-sm-9'>\r\n                                <span className='form-control-plaintext'>{last_name}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className='form-group row'>\r\n                            <label className='col-sm-3 col-form-label font-weight-bold'>Access Group</label>\r\n                            <div className='col-sm-9'>\r\n                                <span className='form-control-plaintext'>{role === 1 ? 'Admin' : 'Registered User'}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className='form-group row'>\r\n                            <label className='col-sm-3 col-form-label font-weight-bold'>Signed Up</label>\r\n                            <div className='col-sm-9'>\r\n                                <span className='form-control-plaintext'>{moment(createdAt).format('MMMM Do, YYYY')}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className='form-group row'>\r\n                            <label className='col-sm-3 col-form-label font-weight-bold'>Last Updated</label>\r\n                            <div className='col-sm-9'>\r\n                                <span className='form-control-plaintext'>{moment(updatedAt).format('MMMM Do, YYYY')}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='col'>\r\n                        <h3>Shipping Info</h3>\r\n                        <div className='form-group row'>\r\n                            <label className='col-sm-3 col-form-label font-weight-bold'>Address</label>\r\n                            <div className='col-sm-9'>\r\n                                <span className='form-control-plaintext'>{address}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className='form-group row'>\r\n                            <label className='col-sm-3 col-form-label font-weight-bold'>City</label>\r\n                            <div className='col-sm-9'>\r\n                                <span className='form-control-plaintext'>{city}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className='form-group row'>\r\n                            <label className='col-sm-3 col-form-label font-weight-bold'>State</label>\r\n                            <div className='col-sm-9'>\r\n                                <span className='form-control-plaintext'>{state}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className='form-group row'>\r\n                            <label className='col-sm-3 col-form-label font-weight-bold'>Zip Code</label>\r\n                            <div className='col-sm-9'>\r\n                                <span className='form-control-plaintext'>{zip}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n            <div className='text-center'>\r\n                <Link className='btn btn-primary-inverse mb-3' to={`/${id}/account/update`}>\r\n                    Update Account\r\n                </Link>\r\n            </div>\r\n            <div onClick={destroy} className='btn btn-danger-inverse mt-1 float-right' style={{cursor: 'pointer'}}>\r\n                Delete Account\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const redirectDeleteSuccess = () => {\r\n        if(deleteSuccess) {\r\n            return <Redirect to='/' />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className='container'>\r\n                <h1 className='text-center mt-3'>My Account</h1>\r\n                {showError()}\r\n                {redirectDeleteSuccess()}\r\n                {loading ? (\r\n                    <Loader />\r\n                ) : (\r\n                    <div>\r\n                        {!address || !city || !state || !zip ? (\r\n                            <h4 className='text-center'>Want faster checkout? <Link to={`/${id}/account/update`}>Add Shipping Info</Link></h4>\r\n                        ) : null}\r\n                        {userInfo()}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserAccount;","import React, {useState, useEffect} from 'react';\r\nimport moment from 'moment';\r\nimport {isAuthenticated, readOrderHistory} from '../api';\r\n\r\nimport Loader from './Loader';\r\n\r\nconst UserOrders = (props) => {\r\n    const [values, setValues] = useState({\r\n        orderHistory: [],\r\n        error: ''\r\n    });\r\n    const {orderHistory, error} = values;\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const {token} = isAuthenticated();\r\n\r\n    const init = userId => {\r\n        readOrderHistory(userId, token).then(orderData => {\r\n            if(orderData.error) {\r\n                setValues({...values, error: 'Could not get the requested user order history.'});\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    orderHistory: orderData,\r\n                    error: ''\r\n                });\r\n                setLoading(false);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init(props.match.params.userId);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='container'>\r\n            <h1 className='text-center my-3'>Order History</h1>\r\n            {loading ? (\r\n                <Loader />\r\n            ) : (\r\n                <div>\r\n                    {showError()}\r\n                    {orderHistory.map((order, i) => (\r\n                    <div key={i}>\r\n                        <div className='row mb-3'>\r\n                            <div className='col-sm-12 col-md-6'>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Order #</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <span className='form-control-plaintext'>{order._id}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Status</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <span className='form-control-plaintext'>{order.status}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Placed</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <span className='form-control-plaintext'>{moment(order.createdAt).fromNow()} ({moment(order.createdAt).format('MMMM Do, YYYY')})</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Last Updated</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <span className='form-control-plaintext'>{moment(order.updatedAt).fromNow()} ({moment(order.updatedAt).format('MMMM Do, YYYY')})</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Email</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <span className='form-control-plaintext'>{order.email}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Address</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <span className='form-control-plaintext'>{order.address}, {order.city}, {order.state}, {order.zip}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className='col-sm-12 col-md-6'>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Products Ordered</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <div className='form-control-plaintext'>\r\n                                            {order.products.map((product, i) => (\r\n                                                <div className='mb-3' key={i}>\r\n                                                    <div>Name: {product.name}</div>\r\n                                                    <div>Quantity: {product.count}</div>\r\n                                                    <div>Price: ${parseFloat(Math.round((product.price) * 100) / 100).toFixed(2)} each</div>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Total Charged</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <span className='form-control-plaintext'>${parseFloat(Math.round((order.total_price) * 100) / 100).toFixed(2)}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <hr />\r\n                    </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default UserOrders;","import React, {useState, useEffect} from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {isAuthenticated, readUser, updateUser, update} from '../api';\r\n\r\nimport Loader from './Loader';\r\n\r\nconst UserAccount = ({match}) => {\r\n    const [values, setValues] = useState({\r\n        first_name: '',\r\n        last_name: '',\r\n        email: '',\r\n        updatePassword: '',\r\n        confirmPassword: '',\r\n        address: '',\r\n        city: '',\r\n        state: '',\r\n        zip: '',\r\n        role: '',\r\n        error: '',\r\n        success: false\r\n    });\r\n    const {first_name, last_name, email, updatePassword, confirmPassword, address, city, state, zip, role, error, success} = values;\r\n    const [loading, setLoading] = useState(true);\r\n    \r\n    const {token} = isAuthenticated();\r\n\r\n    const init = userId => {\r\n        readUser(userId, token).then(data => {\r\n            if(data.error) {\r\n                setValues({...values, error: 'Could not get the requested user account.'});\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    first_name: data.first_name,\r\n                    last_name: data.last_name,\r\n                    email: data.email,\r\n                    address: data.address,\r\n                    city: data.city,\r\n                    state: data.state,\r\n                    zip: data.zip,\r\n                    role: data.role,\r\n                    error: ''\r\n                });\r\n                setLoading(false);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init(match.params.userId);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const onChange = valueProp => event => {\r\n        setValues({...values, [valueProp]: event.target.value, error: ''});\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        let password;\r\n        event.preventDefault();\r\n        setValues({...values, error: ''});\r\n        if(updatePassword || confirmPassword) {\r\n            if(updatePassword !== confirmPassword) {\r\n                return setValues({...values, error: 'Passwords must match.'});\r\n            } else {\r\n                password = updatePassword;\r\n            }\r\n        }\r\n        updateUser(match.params.userId, token, {first_name, last_name, email, password, address, city, state, zip, role}).then(\r\n            data => {\r\n                if(data.error) {\r\n                    setValues({...values, error: data.error, success: false});\r\n                } else {\r\n                    update(data, () => {\r\n                        setValues({\r\n                            ...values,\r\n                            first_name: data.first_name,\r\n                            last_name: data.last_name,\r\n                            email: data.email,\r\n                            address: data.address,\r\n                            city: data.city,\r\n                            state: data.state,\r\n                            zip: data.zip,\r\n                            role: data.role,\r\n                            error: '',\r\n                            success: true\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    const updateUserInfo = () => (\r\n        <div className='mt-3'>\r\n            <form>\r\n                <div className='row'>\r\n                    <div className='col'>\r\n                        <h2>User Info</h2>\r\n                        <div className='form-group row'>\r\n                            <label htmlFor='email' className='col-sm-3 col-form-label font-weight-bold'>Email</label>\r\n                            <div className='col-sm-9'>\r\n                                <input onChange={onChange('email')} type='text' className='form-control-plaintext' id='email' placeholder={email} />\r\n                            </div>\r\n                        </div>\r\n                        <div className='form-group row'>\r\n                            <label htmlFor='updatePassword' className='col-sm-3 col-form-label font-weight-bold'>Password</label>\r\n                            <div className='col-sm-9'>\r\n                                <input onChange={onChange('updatePassword')} type='password' className='form-control-plaintext' id='updatePassword' placeholder='*************' />\r\n                            </div>\r\n                        </div>\r\n                        <div className='form-group row'>\r\n                            <label htmlFor='confirmPassword' className='col-sm-3 col-form-label font-weight-bold'>Confirm Password</label>\r\n                            <div className='col-sm-9'>\r\n                                <input onChange={onChange('confirmPassword')} type='password' className='form-control-plaintext' id='confirmPassword' placeholder='*************' />\r\n                            </div>\r\n                        </div>\r\n                        <div className='form-group row'>\r\n                            <label htmlFor='first_name' className='col-sm-3 col-form-label font-weight-bold'>First Name</label>\r\n                            <div className='col-sm-9'>\r\n                                <input onChange={onChange('first_name')} type='text' className='form-control-plaintext' id='first_name' placeholder={first_name} />\r\n                            </div>\r\n                        </div>\r\n                        <div className='form-group row'>\r\n                            <label htmlFor='last_name' className='col-sm-3 col-form-label font-weight-bold'>Last Name</label>\r\n                            <div className='col-sm-9'>\r\n                                <input onChange={onChange('last_name')} type='text' className='form-control-plaintext' id='last_name' placeholder={last_name} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='col'>\r\n                        <h2>Shipping Info</h2>\r\n                        <div className='form-group row'>\r\n                            <label htmlFor='address' className='col-sm-3 col-form-label font-weight-bold'>Address</label>\r\n                            <div className='col-sm-9'>\r\n                                <input onChange={onChange('address')} type='text' className='form-control-plaintext' id='address' placeholder={address} />\r\n                            </div>\r\n                        </div>\r\n                        <div className='form-group row'>\r\n                            <label htmlFor='city' className='col-sm-3 col-form-label font-weight-bold'>City</label>\r\n                            <div className='col-sm-9'>\r\n                                <input onChange={onChange('city')} type='text' className='form-control-plaintext' id='city' placeholder={city} />\r\n                            </div>\r\n                        </div>\r\n                        <div className='form-group row'>\r\n                            <label htmlFor='state' className='col-sm-3 col-form-label font-weight-bold'>State</label>\r\n                            <div className='col-sm-9'>\r\n                                <select onChange={onChange('state')} value={state} className='form-control-plaintext state-dropdown'>\r\n                                    <option value=''>Select One</option>\r\n                                    <option value='Alabama'>Alabama</option>\r\n                                    <option value='Alaska'>Alaska</option>\r\n                                    <option value='Arizona'>Arizona</option>\r\n                                    <option value='Arkansas'>Arkansas</option>\r\n                                    <option value='California'>California</option>\r\n                                    <option value='Colorado'>Colorado</option>\r\n                                    <option value='Connecticut'>Connecticut</option>\r\n                                    <option value='Delaware'>Delaware</option>\r\n                                    <option value='District Of Columbia'>District Of Columbia</option>\r\n                                    <option value='Florida'>Florida</option>\r\n                                    <option value='Georgia'>Georgia</option>\r\n                                    <option value='Hawaii'>Hawaii</option>\r\n                                    <option value='Idaho'>Idaho</option>\r\n                                    <option value='Illinois'>Illinois</option>\r\n                                    <option value='Indiana'>Indiana</option>\r\n                                    <option value='Iowa'>Iowa</option>\r\n                                    <option value='Kansas'>Kansas</option>\r\n                                    <option value='Kentucky'>Kentucky</option>\r\n                                    <option value='Louisiana'>Louisiana</option>\r\n                                    <option value='Maine'>Maine</option>\r\n                                    <option value='Maryland'>Maryland</option>\r\n                                    <option value='Massachusetts'>Massachusetts</option>\r\n                                    <option value='Michigan'>Michigan</option>\r\n                                    <option value='Minnesota'>Minnesota</option>\r\n                                    <option value='Mississippi'>Mississippi</option>\r\n                                    <option value='Missouri'>Missouri</option>\r\n                                    <option value='Montana'>Montana</option>\r\n                                    <option value='Nebraska'>Nebraska</option>\r\n                                    <option value='Nevada'>Nevada</option>\r\n                                    <option value='New Hampshire'>New Hampshire</option>\r\n                                    <option value='New Jersey'>New Jersey</option>\r\n                                    <option value='New Mexico'>New Mexico</option>\r\n                                    <option value='New York'>New York</option>\r\n                                    <option value='North Carolina'>North Carolina</option>\r\n                                    <option value='North Dakota'>North Dakota</option>\r\n                                    <option value='Ohio'>Ohio</option>\r\n                                    <option value='Oklahoma'>Oklahoma</option>\r\n                                    <option value='Oregon'>Oregon</option>\r\n                                    <option value='Pennsylvania'>Pennsylvania</option>\r\n                                    <option value='Rhode Island'>Rhode Island</option>\r\n                                    <option value='South Carolina'>South Carolina</option>\r\n                                    <option value='South Dakota'>South Dakota</option>\r\n                                    <option value='Tennessee'>Tennessee</option>\r\n                                    <option value='Texas'>Texas</option>\r\n                                    <option value='Utah'>Utah</option>\r\n                                    <option value='Vermont'>Vermont</option>\r\n                                    <option value='Virginia'>Virginia</option>\r\n                                    <option value='Washington'>Washington</option>\r\n                                    <option value='West Virginia'>West Virginia</option>\r\n                                    <option value='Wisconsin'>Wisconsin</option>\r\n                                    <option value='Wyoming'>Wyoming</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div className='form-group row'>\r\n                            <label htmlFor='zip' className='col-sm-3 col-form-label font-weight-bold'>Zip Code</label>\r\n                            <div className='col-sm-9'>\r\n                                <input onChange={onChange('zip')} type='text' className='form-control-plaintext' id='zip' placeholder={zip} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='text-center'>\r\n                    <button onClick={onSubmit} type='submit' className='btn btn-primary mb-3'>Save Changes</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const redirectSuccess = () => {\r\n        if(success) {\r\n            return <Redirect to={`/${match.params.userId}/account`} />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className='container'>\r\n                <h1 className='text-center mt-3'>Update Account</h1>\r\n                {showError()}\r\n                {redirectSuccess()}\r\n                {loading ? (\r\n                    <Loader />\r\n                ) : (\r\n                    <div>\r\n                        {updateUserInfo()}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserAccount;","import React, { useState, useEffect } from 'react';\r\nimport {isAuthenticated, readAllCategories, deleteCategory, createCategory} from '../api';\r\n\r\nimport Loader from './Loader';\r\n\r\nconst ManageCategories = () => {\r\n    const [values, setValues] = useState({\r\n        categories: [],\r\n        name: '',\r\n        error: ''\r\n    });\r\n    const {categories, name, error} = values;\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const {user, token} = isAuthenticated();\r\n\r\n    const init = () => {\r\n        readAllCategories().then(data => {\r\n            if(data.error) {\r\n                setValues({...values, error: data.error});\r\n            } else {\r\n                setValues({...values, name: '', error: '', categories: data});\r\n                setLoading(false);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const destroy = categoryId => {\r\n        const confirmDelete = window.confirm('Are you sure you want to delete this category? This process cannot be undone.');\r\n        if(confirmDelete) {\r\n            deleteCategory(categoryId, user._id, token).then(data => {\r\n                if(data.error) {\r\n                    setValues({...values, error: data.error});\r\n                } else {\r\n                    init();\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    const onChange = event => {\r\n        setValues({...values, name: event.target.value});\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        createCategory(user._id, token, { name }).then(data => {\r\n            if(data.error) {\r\n                setValues({...values, error: data.error});\r\n            } else {\r\n                setValues({...values, name: ''});\r\n                init();\r\n            }\r\n        });\r\n    };\r\n\r\n    const newCategoryForm = () => (\r\n        <div className='mt-3'>\r\n            <h3>New Category</h3>\r\n            <div className='input-group'>\r\n                <input onChange={onChange} type='text' className='form-control mr-3' value={name} />\r\n                <span className='input-group-btn'>\r\n                    <button onClick={onSubmit} type='submit' className='btn btn-info'>Create Category</button>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='container'>\r\n            <h1 className='text-center mt-3'>Manage Categories</h1>\r\n            {loading ? (\r\n                <Loader />\r\n            ) : (\r\n                <div>\r\n                    {showError()}\r\n                    {newCategoryForm()}\r\n                    <div className='mt-3'>\r\n                        <h3>Categories</h3>\r\n                        {categories.map((category, i) => (\r\n                            <div key={i} className='input-group mb-2'>\r\n                                <div className='form-control-plaintext' key={i}>{category.name}</div>\r\n                                <span className='input-group-btn'>\r\n                                    <button onClick={() => destroy(category._id)} type='submit' className='btn btn-danger'>Delete Category</button>\r\n                                </span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ManageCategories;","import React, { useState, useEffect } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {isAuthenticated, readAllCategories, readProductsByName, readAllProducts, readQueriedProducts, deleteProduct} from '../api';\r\n\r\nimport Loader from './Loader';\r\n\r\nconst ManageProducts = () => {\r\n    const [userFilters, setUserFilters] = useState({\r\n        filters: {\r\n            category: []\r\n        }\r\n    });\r\n    const [categories, setCategories] = useState([]);\r\n    const [allProducts, setAllProducts] = useState([]);\r\n    const [selectedCategories, setSelectedCategories] = useState([]);\r\n    const [searching, setSearching] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [error, setError] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const {user, token} = isAuthenticated();\r\n\r\n    const initCategories = () => {\r\n        readAllCategories().then(data => {\r\n            if(data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setCategories(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const initProducts = () => {\r\n        readAllProducts().then(data => {\r\n            if(data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setAllProducts(data);\r\n                setLoading(false);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        initCategories();\r\n        initProducts();\r\n    }, []);\r\n\r\n    const handleToggle = c => () => {\r\n        const currentCategory = selectedCategories.indexOf(c);\r\n        const newSelectedCategories = [...selectedCategories];\r\n        if(currentCategory === -1) {\r\n            newSelectedCategories.push(c);\r\n        } else {\r\n            newSelectedCategories.splice(currentCategory, 1);\r\n        }\r\n        setSelectedCategories(newSelectedCategories);\r\n        handleFilters(newSelectedCategories, 'category');\r\n    };\r\n\r\n    const handleFilters = (filters, filterBy) => {\r\n        const newFilters = {...userFilters};\r\n        newFilters.filters[filterBy] = filters;\r\n        setSearchTerm('');\r\n        setUserFilters(newFilters);\r\n        if(newFilters.filters.category.length === 0) {\r\n            initProducts();\r\n        } else {\r\n            loadFilteredResults(userFilters.filters);\r\n        }\r\n    };\r\n\r\n    const loadFilteredResults = newFilters => {\r\n        readQueriedProducts(newFilters).then(data => {\r\n            if(data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setAllProducts(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const showProducts = () => (\r\n        <div>\r\n            <div className='row products'>\r\n            {allProducts.map((product, i) => (\r\n                <div key={i} className='input-group mb-3'>\r\n                    <div className='form-control-plaintext'><h5>{product.name}</h5></div>\r\n                    <span className='input-group-btn'>\r\n                        <div className='d-none d-sm-block btn-group'>\r\n                            <Link className='btn btn-info' to={`/product/update/${product._id}`}>\r\n                                Update Product\r\n                            </Link>\r\n                            <span onClick={() => destroy(product._id)} className='btn btn-danger' style={{cursor: 'pointer'}}>\r\n                                Delete Product\r\n                            </span>\r\n                        </div>\r\n                        <div className='d-xs-block d-sm-none'>\r\n                            <div>\r\n                                <Link className='btn btn-info' to={`/product/update/${product._id}`}>\r\n                                    Update Product\r\n                                </Link>\r\n                            </div>\r\n                            <div onClick={() => destroy(product._id)} className='btn btn-danger mt-1' style={{cursor: 'pointer', width: '100%'}}>\r\n                                Delete Product\r\n                            </div>\r\n                        </div>\r\n                    </span>\r\n                </div>\r\n            ))}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const toggleFiltersOff = () => {\r\n        const filtersArray = document.getElementsByName('filters');\r\n        filtersArray.forEach(filter => {\r\n            if(filter.checked) {\r\n                filter.checked = false;\r\n            }\r\n        })\r\n    }\r\n\r\n    const onSearchChange = event => {\r\n        const search = event.target.value;\r\n        if(search.length === 0) {\r\n            setSearchTerm('');\r\n            setSearching(false);\r\n            initProducts();\r\n        } else {\r\n            readProductsByName(event.target.value).then(data => {\r\n                if(data.error) {\r\n                    console.log(data.error);\r\n                } else {\r\n                    const clearFilters = {...userFilters};\r\n                    clearFilters.filters.category = [];\r\n                    setUserFilters(clearFilters);\r\n                    setSelectedCategories([]);\r\n                    toggleFiltersOff();\r\n                    setSearchTerm(search);\r\n                    setSearching(true);\r\n                    setAllProducts(data);\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    const destroy = productId => {\r\n        const confirmDelete = window.confirm('Are you sure you want to delete this product? This process cannot be undone.');\r\n        if(confirmDelete) {\r\n            deleteProduct(productId, user._id, token).then(data => {\r\n                if(data.error) {\r\n                    console.log(data.error);\r\n                } else {\r\n                    initProducts();\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className='container'>\r\n                <h1 className='text-center mt-3'>Manage Products</h1>\r\n                {selectedCategories.length > 0 || searchTerm.length !== 0 ? (\r\n                    <h4 className={`text-center ${loading ? 'd-none' : ''}`}>Showing {`${allProducts.length}`} Found Products</h4>\r\n                ) : (\r\n                    <h4 className={`text-center ${loading ? 'd-none' : ''}`}>Showing All Products</h4>\r\n                )}\r\n                {loading ? (\r\n                    <Loader />\r\n                ) : (\r\n                    <div className='row mt-3'>\r\n                        <div className='col-md-12 col-lg-3'>\r\n                            <a className='d-lg-none' data-toggle='collapse' href='#collapseFilters' role='button' aria-expanded='false' aria-controls='collapseFilters'>\r\n                                <h4 className='text-center'>Toggle Search Filters</h4>\r\n                            </a>\r\n                            <div className='collapse d-lg-block' id='collapseFilters'>\r\n                                <h4>Filter By</h4>\r\n                                <div className='ml-3'>\r\n                                    <h5>Name</h5>\r\n                                    <div className='form-group mr-3'>\r\n                                        <input onChange={onSearchChange} value={searchTerm} type='text' className='form-control ml-3' id='searchProducts' aria-describedby='searchProducts' placeholder='Search products...' />\r\n                                    </div>\r\n                                    <h5>Category</h5>\r\n                                    <ul className='list-group'>\r\n                                        {categories.map((category, i) => (\r\n                                            <li className='list-group-item ml-3' key={i}>\r\n                                                <span><h6 className='d-inline text-down'>{category.name}</h6></span>\r\n                                                <label className='switch'>\r\n                                                    <input onChange={handleToggle(category._id)} value={selectedCategories.indexOf(category._id === -1)} name='filters' type='checkbox' className='primary' />\r\n                                                    <span className='slider'></span>\r\n                                                </label>\r\n                                            </li>\r\n                                        ))}\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='col-md-12 col-lg-9 mt-3'>\r\n                            <div className='text-center mb-3'>\r\n                                <Link className='btn btn-success' to='/product/create'>\r\n                                    Create Product\r\n                                </Link>\r\n                            </div>\r\n                            {showProducts()}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ManageProducts;","import React, {useState, useEffect} from 'react';\r\nimport {isAuthenticated, readAllOrders, readOrderStatusValues, updateOrderStatus, readOrdersByEmail, deleteOrder} from '../api';\r\nimport moment from 'moment';\r\n\r\nimport Loader from './Loader';\r\n\r\nconst ManageOrders = () => {\r\n    const [orders, setOrders] = useState([]);\r\n    const [statusValues, setStatusValues] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const {user, token} = isAuthenticated();\r\n\r\n    const initOrders = () => {\r\n        readAllOrders(user._id, token).then(data => {\r\n            if(data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setOrders(data);\r\n                setLoading(false);\r\n            }\r\n        });\r\n    };\r\n\r\n    const initStatusValues = () => {\r\n        readOrderStatusValues(user._id, token).then(data => {\r\n            if(data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setStatusValues(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        initOrders();\r\n        initStatusValues();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const showNumberOfOrders = () => (\r\n        <div>\r\n            <h4 className='text-center'>Current Number of Orders: {orders.length}</h4>\r\n        </div>\r\n    );\r\n\r\n    const onChange = orderId => event => {\r\n        updateOrderStatus(user._id, token, orderId, event.target.value).then(data => {\r\n            if(data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                initOrders();\r\n            }\r\n        });\r\n    };\r\n\r\n    const showStatus = order => (\r\n        <span className='ml-4'>\r\n            <select onChange={onChange(order._id)}>\r\n                <option>Update Status</option>\r\n                {statusValues.map((status, i) => (\r\n                    <option key={i} value={status}>{status}</option>\r\n                ))}\r\n            </select>\r\n        </span>\r\n    );\r\n\r\n    const onSearchChange = event => {\r\n        if(event.target.value.length === 0) {\r\n            initOrders();\r\n        } else {\r\n            readOrdersByEmail(event.target.value).then(data => {\r\n                if(data.error) {\r\n                    console.log(data.error);\r\n                } else {\r\n                    setOrders(data);\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    const destroy = orderId => {\r\n        const confirmDelete = window.confirm('Are you sure you want to delete this order? This process cannot be undone.');\r\n        if(confirmDelete) {\r\n            deleteOrder(orderId, user._id, token).then(data => {\r\n                if(data.error) {\r\n                    console.log(data.error);\r\n                } else {\r\n                    initOrders();\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='container'>\r\n            <h1 className='text-center mt-3'>Manage Orders</h1>\r\n            {showNumberOfOrders()}\r\n            {loading ? (\r\n                <Loader />\r\n            ) : (\r\n                <div className='mt-3'>\r\n                    <div className='form-group'>\r\n                        <h5>Search Orders by Email</h5>\r\n                        <input onChange={onSearchChange} type='text' className='form-control' id='searchOrders' aria-describedby='searchOrders' placeholder='Search orders...' />\r\n                    </div>\r\n                    {orders.map((order, i) => (\r\n                    <div key={i}>\r\n                        <div className='row mb-3'>\r\n                            <div className='col-sm-12 col-md-6'>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Order #</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <span className='form-control-plaintext'>{order._id}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Status</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <span className='form-control-plaintext'>{order.status} {showStatus(order)}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Placed</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <span className='form-control-plaintext'>{moment(order.createdAt).fromNow()} ({moment(order.createdAt).format('MMMM Do, YYYY')})</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Last Updated</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <span className='form-control-plaintext'>{moment(order.updatedAt).fromNow()} ({moment(order.updatedAt).format('MMMM Do, YYYY')})</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Email</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <span className='form-control-plaintext'>{order.email}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Address</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <span className='form-control-plaintext'>{order.address}, {order.city}, {order.state}, {order.zip}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className='col-sm-12 col-md-6'>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Products Ordered</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <div className='form-control-plaintext'>\r\n                                            {order.products.map((product, i) => (\r\n                                                <div className='mb-3' key={i}>\r\n                                                    <div>ID: {product._id}</div>\r\n                                                    <div>Name: {product.name}</div>\r\n                                                    <div>Quantity: {product.count}</div>\r\n                                                    <div>Price: ${parseFloat(Math.round((product.price) * 100) / 100).toFixed(2)} each</div>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='form-group row'>\r\n                                    <label className='col-sm-3 col-form-label font-weight-bold'>Total Charged</label>\r\n                                    <div className='col-sm-9'>\r\n                                        <span className='form-control-plaintext'>${parseFloat(Math.round((order.total_price) * 100) / 100).toFixed(2)}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='text-right'>\r\n                            <div onClick={() => destroy(order._id)} className='btn btn-danger-inverse' style={{cursor: 'pointer'}}>\r\n                                Delete Order\r\n                            </div>\r\n                        </div>\r\n                        <hr />\r\n                    </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ManageOrders;","import React, {useState, useEffect} from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {isAuthenticated, readAllCategories, createProduct} from '../api';\r\n\r\nconst CreateProduct = () => {\r\n    const [images, setImages] = useState([]);\r\n    const [newProduct, setNewProduct] = useState({\r\n        categories: [],\r\n        name: '',\r\n        description: '',\r\n        category: '',\r\n        price: '',\r\n        error: '',\r\n        formData: '',\r\n        success: false\r\n    });\r\n    const {categories, name, description, price, error, formData, success} = newProduct;\r\n    const {user, token} = isAuthenticated();\r\n\r\n    const initCategories = () => {\r\n        readAllCategories().then(data => {\r\n            if(data.error) {\r\n                setNewProduct({...newProduct, error: data.error});\r\n            } else {\r\n                setNewProduct({ ...newProduct, categories: data, formData: new FormData()});\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        initCategories();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const onChange = selected => event => {\r\n        setNewProduct({...newProduct, error: '', success: false});\r\n        let value = selected.includes('photos') ? event.target.files[0] : event.target.value;\r\n        if(selected.includes('photos')) {\r\n            let target = selected.split(' ')[1];\r\n            let prop = selected.split(' ')[0];\r\n            if(value === undefined || value.length < 1) {\r\n                images.splice(target, 1, null);\r\n                setImages([...images]);\r\n                let photos = formData.getAll('photos');\r\n                photos.splice(target, 1, null);\r\n                photos.map((photo, i) => {\r\n                    if(i === 0) {\r\n                        return formData.set('photos', photo);\r\n                    } else {\r\n                        return formData.append('photos', photo);\r\n                    }\r\n                });\r\n            } else if(target < images.length) {\r\n                images.splice(target, 1, value);\r\n                setImages([...images]);\r\n                let photos = formData.getAll('photos');\r\n                photos.splice(target, 1, value);\r\n                photos.map((photo, i) => {\r\n                    if(i === 0) {\r\n                        return formData.set('photos', photo);\r\n                    } else {\r\n                        return formData.append('photos', photo);\r\n                    }\r\n                });\r\n            } else {\r\n                setImages([...images, value]);\r\n                formData.append(prop, value);\r\n            }\r\n        } else {\r\n            if(selected === 'available') {\r\n                if(value === 'true') {\r\n                    value = true;\r\n                } else {\r\n                    value = false;\r\n                }\r\n            }\r\n            setNewProduct({...newProduct, [selected]: value});\r\n            formData.set(selected, value);\r\n        }\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        for (var pair of formData.entries()) {\r\n            console.log(pair[0]+ ', ' + pair[1]); \r\n        }\r\n        setNewProduct({...newProduct, error: ''});\r\n        createProduct(user._id, token, formData).then(data => {\r\n            if(data.error) {\r\n                setNewProduct({...newProduct, error: data.error});\r\n            } else {\r\n                setNewProduct({\r\n                    ...newProduct, \r\n                    name: '',\r\n                    description: '',\r\n                    category: '',\r\n                    price: '',\r\n                    image: '',\r\n                    error: '',\r\n                    formData: '',\r\n                    success: true\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const isFileSelected = i => {\r\n        if(document.getElementsByClassName('input-photos')[i]) {\r\n            let inputIndex = document.getElementsByClassName('input-photos')[i].value;\r\n            return inputIndex.length > 0 ? true : false;\r\n        }\r\n    }\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const redirectSuccess = () => {\r\n        if(success) {\r\n            return <Redirect to='/manage/products' />;\r\n        }\r\n    };\r\n\r\n    const createProductForm = () => (\r\n        <form>\r\n            <div className='form-group'>\r\n                <label htmlFor='name'>Name</label>\r\n                <input onChange={onChange('name')} type='text' className='form-control' id='name' aria-describedby='name' value={name} />\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='description'>Description</label>\r\n                <textarea onChange={onChange('description')} className='form-control' id='description' aria-describedby='description' value={description} />\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='category'>Category</label>\r\n                <select onChange={onChange('category')} className='form-control'>\r\n                    <option>Select Category</option>\r\n                    {categories && categories.map((category, i) => (\r\n                        <option key={i} value={category._id}>\r\n                            {category.name}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='price'>Price</label>\r\n                <div className='input-group'>\r\n                    $<input onChange={onChange('price')} type='number' className='form-control' id='price' aria-describedby='price' value={price} />\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor='photos' className=\"col-12 col-form-label\"></label>\r\n                    <div className='col-auto'>\r\n                        {isFileSelected(0) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                        <input onChange={onChange('photos 0')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                    </div>\r\n                    {images.length > 0 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(1) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={onChange('photos 1')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 1 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(2) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={onChange('photos 2')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 2 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(3) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={onChange('photos 3')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 3 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(4) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={onChange('photos 4')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 4 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(5) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={onChange('photos 5')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 5 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(6) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={onChange('photos 6')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 6 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(7) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={onChange('photos 7')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 7 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(8) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={onChange('photos 8')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 8 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(9) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={onChange('photos 9')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 9 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(10) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={onChange('photos 10')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            <div className='text-center mb-3'>\r\n                <button onClick={onSubmit} type='submit' className='btn btn-primary-inverse'>Create Product</button>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className='container'>\r\n            <h1 className='text-center mt-3'>Create Product</h1>\r\n            {showError()}\r\n            {redirectSuccess()}\r\n            {createProductForm()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CreateProduct;","import React, {useState, useEffect} from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {isAuthenticated, readAllCategories, readProduct, updateProduct} from '../api';\r\n\r\nimport Loader from './Loader';\r\n\r\nconst UpdateProduct = ({match}) => {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        description: '',\r\n        category: '',\r\n        price: '',\r\n        image: '',\r\n        error: '',\r\n        formData: '',\r\n        success: false\r\n    });\r\n    const [categories, setCategories] = useState([]);\r\n    const {name, description, price, error, formData, success} = values;\r\n    const [loading, setLoading] = useState(true);\r\n    \r\n    const {user, token} = isAuthenticated();\r\n\r\n    const initCategories = () => {\r\n        readAllCategories().then(data => {\r\n            if(data.error) {\r\n                setValues({...values, error: data.error});\r\n            } else {\r\n                setCategories(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const initProduct = productId => {\r\n        readProduct(productId).then(data => {\r\n            if(data.error) {\r\n                setValues({...values, error: data.error});\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: data.name,\r\n                    description: data.description,\r\n                    price: data.price,\r\n                    category: data.category._id,\r\n                    formData: new FormData()\r\n                });\r\n                setLoading(false);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        initProduct(match.params.productId);\r\n        initCategories();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const onChange = valueProp => event => {\r\n        setValues({...values, [valueProp]: event.target.value, error: ''});\r\n        const value = valueProp === 'image' ? event.target.files[0] : event.target.value;\r\n        formData.set(valueProp, value);\r\n        setValues({...values, [valueProp]: value});\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({...values, error: ''});\r\n        updateProduct(user._id, token, match.params.productId, formData).then(data => {\r\n            if(data.error) {\r\n                setValues({...values, error: data.error});\r\n            } else {\r\n                setValues({\r\n                    name: '',\r\n                    description: '',\r\n                    category: '',\r\n                    price: '',\r\n                    image: '',\r\n                    error: '',\r\n                    formData: '',\r\n                    success: true\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const redirectSuccess = () => {\r\n        if(success) {\r\n            return <Redirect to='/manage/products' />;\r\n        }\r\n    };\r\n\r\n    const updateProductForm = () => (\r\n        <form>\r\n            <div className='form-group'>\r\n                <label htmlFor='name'>Name</label>\r\n                <input onChange={onChange('name')} type='text' className='form-control' id='name' aria-describedby='name' placeholder={name} />\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='image'>Image</label><br />\r\n                <input onChange={onChange('image')} type='file' accept='image/*' id='image' aria-describedby='image' />\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='description'>Description</label>\r\n                <textarea onChange={onChange('description')} className='form-control' id='description' aria-describedby='description' placeholder={description} />\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='category'>Category</label>\r\n                <select onChange={onChange('category')} className='form-control'>\r\n                    <option>Select Category</option>\r\n                    {categories && categories.map((category, i) => (\r\n                        <option key={i} value={category._id}>\r\n                            {category.name}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='price'>Price</label>\r\n                <div className='input-group'>\r\n                    $<input onChange={onChange('price')} type='number' className='form-control' id='price' aria-describedby='price' placeholder={price} />\r\n                </div>\r\n            </div>\r\n            <div className='text-center mb-3'>\r\n                <button onClick={onSubmit} type='submit' className='btn btn-primary-inverse'>Save Changes</button>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div className='container'>\r\n            <h1 className='text-center mt-3'>Update Product</h1>\r\n            {showError()}\r\n            {redirectSuccess()}\r\n            {loading ? (\r\n                <Loader />\r\n            ) : (\r\n                <div>\r\n                    {updateProductForm()}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UpdateProduct;","import React, {useState, useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {readCart, clearCart} from '../api';\r\n\r\nimport ProductCard from './ProductCard';\r\nimport Loader from './Loader';\r\n\r\nconst Cart = () => {\r\n    const [cart, setCart] = useState([]);\r\n    const [cartSize, setCartSize] = useState(0);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const changeCartSize = () => {\r\n        setCartSize(readCart().length);\r\n        setLoading(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        setCart(readCart());\r\n        changeCartSize();\r\n    }, [cartSize]);\r\n\r\n    const onClick = () => {\r\n        clearCart(() => {\r\n            changeCartSize();\r\n        });\r\n    };\r\n\r\n    const showCart = () => cart.length > 0 ? (\r\n        <div>\r\n            <div className='d-md-none'>\r\n                <h1 className='text-center mt-3'>My Cart</h1>\r\n                <h4 className='text-center'>{`${cart.length} item(s) in your cart`}</h4>\r\n                <div className='row'>\r\n                    <div className='col-6 mt-3'>\r\n                        <h2>\r\n                            <Link className='btn btn-success' to='/checkout'>Checkout</Link>\r\n                        </h2>\r\n                    </div>\r\n                    <div className='col-6 mt-3'>\r\n                        <h5 className='float-right'>\r\n                            <div className='row justify-content-center'>\r\n                                Start Over?\r\n                            </div>\r\n                            <div onClick={onClick} className='btn btn-danger-inverse' style={{cursor: 'pointer'}}>\r\n                                Empty Cart\r\n                            </div>\r\n                        </h5>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='d-none d-md-block'>\r\n                <div className='row'>\r\n                    <div className='col-sm-6 col-md-3 my-auto order-2 order-md-1'>\r\n                        <h2>\r\n                            <Link className='btn btn-success' to='/checkout'>Checkout</Link>\r\n                        </h2>\r\n                    </div>\r\n                    <div className='col-sm-12 col-md-6 order-1 order-md-2'>\r\n                        <h1 className='text-center mt-3'>My Cart</h1>\r\n                        <h4 className='text-center'>{`${cart.length} item(s) in your cart`}</h4>\r\n                    </div>\r\n                    <div className='col-sm-6 col-md-3 my-auto order-3 order-md-2'>\r\n                        <h5 className='float-right'>\r\n                            <div className='row justify-content-center'>\r\n                                Start Over?\r\n                            </div>\r\n                            <div onClick={onClick} className='btn btn-danger-inverse' style={{cursor: 'pointer'}}>\r\n                                Empty Cart\r\n                            </div>\r\n                        </h5>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='row mt-3'>\r\n                {cart.map((product, i) => (\r\n                    <div key={i} className='col-xs-12 col-sm-6 col-md-4 col-xl-3 mb-4'>\r\n                        <ProductCard key={i} product={product} changeCartSize={changeCartSize} cartSize={cartSize} showAddToCart={false} showCartQuantity={true} showRemoveFromCart={true} />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    ) : '';\r\n\r\n    const emptyCart = () => cart.length === 0 ? (\r\n        <div>\r\n            <h1 className='text-center mt-3'>My Cart</h1>\r\n            <h4 className='text-center'>Your cart is empty. <Link to='/products'>Continue Shopping</Link></h4>\r\n        </div>\r\n    ) : '';\r\n\r\n    return (\r\n        <div className='container'>\r\n            {loading ? (\r\n                <Loader />\r\n            ) : (\r\n                <div>\r\n                    {showCart()}\r\n                    {emptyCart()}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Cart;","import React, {useState, useEffect} from 'react';\r\nimport DropIn from 'braintree-web-drop-in-react';\r\nimport {Link} from 'react-router-dom';\r\nimport {readCart, getClientToken, processPayment, clearCart, isAuthenticated, createOrder} from '../api';\r\n\r\nimport Loader from './Loader';\r\n\r\nconst Checkout = () => {\r\n    const [values, setValues] = useState({\r\n        clientToken: null,\r\n        instance: {},\r\n        email: '',\r\n        address: '',\r\n        city: '',\r\n        state: '',\r\n        zip: '',\r\n        error: '',\r\n        success: false\r\n    });\r\n    const [cart, setCart] = useState([]);\r\n    const [cartSize, setCartSize] = useState(0);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const {clientToken, email, address, city, state, zip, error, success} = values;\r\n\r\n    const changeCartSize = () => {\r\n        setCartSize(readCart().length);\r\n    };\r\n\r\n    const getToken = () => {\r\n        getClientToken().then(data => {\r\n            if(data.error) {\r\n                setValues({error: data.erorr});\r\n            } else {\r\n                setValues({...values, clientToken: data.clientToken});\r\n                setLoading(false);\r\n            }\r\n        });\r\n    };\r\n\r\n    const initUser = () => {\r\n        const {user} = isAuthenticated();\r\n        if(isAuthenticated()) {\r\n            setValues({\r\n                ...values,\r\n                email: user.email,\r\n                address: user.address,\r\n                city: user.city,\r\n                state: user.state,\r\n                zip: user.zip\r\n            });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setCart(readCart());\r\n        getToken();\r\n        initUser();\r\n        changeCartSize();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [cartSize]);\r\n\r\n    const cartTotal = () => {\r\n        let price = 0;\r\n        cart.forEach(product => {\r\n            price += (product.count * product.price);\r\n        });\r\n        return parseFloat(Math.round((price) * 100) / 100).toFixed(2);\r\n    };\r\n\r\n    const showCart = () => cart.length > 0 ? (\r\n        <div>\r\n            <h3 className='text-center'>Order Summary</h3>\r\n            <h5 className='text-center'>Need to make changes?<br /><Link to='/cart'>Go back to cart</Link></h5>\r\n            <div className='row'>\r\n                {cart.map((product, i) => (\r\n                    <div className='col-6 col-md-12' key={i}>\r\n                        <p>{product.name}</p>\r\n                        <p>Quantity: {product.count}</p>\r\n                        <p>${product.price} each</p>\r\n                        <hr />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    ) : '';\r\n\r\n    const onClick = () => {\r\n        if(email.length > 0 && address.length > 0 && city.length > 0 && state.length > 0 && zip.length > 0) {\r\n            let nonce;\r\n            values.instance.requestPaymentMethod().then(data => {\r\n                nonce = data.nonce;\r\n                const paymentData = {\r\n                    paymentMethodNonce: nonce,\r\n                    amount: cartTotal()\r\n                };\r\n                processPayment(paymentData).then(response => {\r\n                    const order = {\r\n                        products: cart,\r\n                        transaction_id: response.transaction.id,\r\n                        total_price: response.transaction.amount,\r\n                        email: email,\r\n                        address: address,\r\n                        city: city,\r\n                        state: state,\r\n                        zip: zip,\r\n                        user: isAuthenticated().user ? isAuthenticated().user : undefined\r\n                    };\r\n                    createOrder({order: order}).then(res => {\r\n                        if(res.error) {\r\n                            setValues({...values, error: res.error});\r\n                        } else {\r\n                            setValues({\r\n                                ...values, \r\n                                email: '',\r\n                                address: '', \r\n                                city: '',\r\n                                state: '',\r\n                                zip: '',\r\n                                success: true\r\n                            });\r\n                            clearCart(() => {\r\n                                changeCartSize();\r\n                            });\r\n                        }\r\n                    });\r\n                }).catch(error => {\r\n                    setValues({...values, error: error.message});\r\n                });\r\n            }).catch(error => {\r\n                console.log(error.message);\r\n            });\r\n        } else {\r\n            setValues({...values, error: 'All fields are required.'});\r\n        }\r\n    };\r\n\r\n    const onChange = valueProp => event => {\r\n        setValues({...values, [valueProp]: event.target.value, error: ''});\r\n    };\r\n\r\n    const showDelivery = () => (\r\n        <div>\r\n            <form>\r\n                <div className='form-group'>\r\n                    <label htmlFor='email'>Email</label>\r\n                    <input onChange={onChange('email')} value={email} type='email' className='form-control' id='email' aria-describedby='email' required />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label htmlFor='address'>Address</label>\r\n                    <input onChange={onChange('address')} value={address} type='text' className='form-control' id='address' aria-describedby='address' required />\r\n                </div>\r\n                <div className='row'>\r\n                    <div className='col-sm-12 col-md-4'>\r\n                        <div className='form-group'>\r\n                            <label htmlFor='city'>City</label>\r\n                            <input onChange={onChange('city')} value={city} type='text' className='form-control' id='city' aria-describedby='city' required />\r\n                        </div>\r\n                    </div>\r\n                    <div className='col-sm-12 col-md-4'>\r\n                        <div className='form-group'>\r\n                            <label htmlFor='state'>State</label>\r\n                            <select onChange={onChange('state')} value={state} className='form-control' required>\r\n                                <option>Select One</option>\r\n                                <option value='Alabama'>Alabama</option>\r\n                                <option value='Alaska'>Alaska</option>\r\n                                <option value='Arizona'>Arizona</option>\r\n                                <option value='Arkansas'>Arkansas</option>\r\n                                <option value='California'>California</option>\r\n                                <option value='Colorado'>Colorado</option>\r\n                                <option value='Connecticut'>Connecticut</option>\r\n                                <option value='Delaware'>Delaware</option>\r\n                                <option value='District Of Columbia'>District Of Columbia</option>\r\n                                <option value='Florida'>Florida</option>\r\n                                <option value='Georgia'>Georgia</option>\r\n                                <option value='Hawaii'>Hawaii</option>\r\n                                <option value='Idaho'>Idaho</option>\r\n                                <option value='Illinois'>Illinois</option>\r\n                                <option value='Indiana'>Indiana</option>\r\n                                <option value='Iowa'>Iowa</option>\r\n                                <option value='Kansas'>Kansas</option>\r\n                                <option value='Kentucky'>Kentucky</option>\r\n                                <option value='Louisiana'>Louisiana</option>\r\n                                <option value='Maine'>Maine</option>\r\n                                <option value='Maryland'>Maryland</option>\r\n                                <option value='Massachusetts'>Massachusetts</option>\r\n                                <option value='Michigan'>Michigan</option>\r\n                                <option value='Minnesota'>Minnesota</option>\r\n                                <option value='Mississippi'>Mississippi</option>\r\n                                <option value='Missouri'>Missouri</option>\r\n                                <option value='Montana'>Montana</option>\r\n                                <option value='Nebraska'>Nebraska</option>\r\n                                <option value='Nevada'>Nevada</option>\r\n                                <option value='New Hampshire'>New Hampshire</option>\r\n                                <option value='New Jersey'>New Jersey</option>\r\n                                <option value='New Mexico'>New Mexico</option>\r\n                                <option value='New York'>New York</option>\r\n                                <option value='North Carolina'>North Carolina</option>\r\n                                <option value='North Dakota'>North Dakota</option>\r\n                                <option value='Ohio'>Ohio</option>\r\n                                <option value='Oklahoma'>Oklahoma</option>\r\n                                <option value='Oregon'>Oregon</option>\r\n                                <option value='Pennsylvania'>Pennsylvania</option>\r\n                                <option value='Rhode Island'>Rhode Island</option>\r\n                                <option value='South Carolina'>South Carolina</option>\r\n                                <option value='South Dakota'>South Dakota</option>\r\n                                <option value='Tennessee'>Tennessee</option>\r\n                                <option value='Texas'>Texas</option>\r\n                                <option value='Utah'>Utah</option>\r\n                                <option value='Vermont'>Vermont</option>\r\n                                <option value='Virginia'>Virginia</option>\r\n                                <option value='Washington'>Washington</option>\r\n                                <option value='West Virginia'>West Virginia</option>\r\n                                <option value='Wisconsin'>Wisconsin</option>\r\n                                <option value='Wyoming'>Wyoming</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className='col-sm-12 col-md-4'>\r\n                        <div className='form-group'>\r\n                            <label htmlFor='zip'>Zip Code</label>\r\n                            <input onChange={onChange('zip')} value={zip} type='text' className='form-control' id='zip' aria-describedby='zip' required />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n    const showDropIn = () => (\r\n        <div>\r\n            {clientToken !== null && cart.length > 0 ? (\r\n                <div>\r\n                    <h5>Total To Be Charged: ${cartTotal()}</h5>\r\n                    <DropIn className='mt-0' options={{authorization: clientToken}} onInstance={instance => (values.instance = instance)} />\r\n                    <button onClick={onClick} className='btn btn-success btn-block mb-3'>Confirm Purchase</button>\r\n                </div>\r\n            ) : ''}\r\n        </div>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            Your purchase was successful. You will receive a confirmation email shortly.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='container'>\r\n            <h1 className='text-center mt-3'>Checkout</h1>\r\n            {loading ? (\r\n                <Loader />\r\n            ) : (\r\n                <div>\r\n                    {cart.length === 0 && !success ? (\r\n                        <h4 className='text-center'>Your cart is empty. <Link to='/products'>Continue Shopping</Link></h4>\r\n                    ) : (\r\n                        <div>\r\n                            <div className='row'>\r\n                                {showError()}\r\n                                {success ? (\r\n                                    <div className='col-12'>\r\n                                        {showSuccess()}\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className='col-sm-12 col-md-9 order-2 order-md-1'>\r\n                                        <h3>Shipping</h3>\r\n                                        {showDelivery()}\r\n                                        <h3>Payment</h3>\r\n                                        {showDropIn()}\r\n                                    </div>\r\n                                )}\r\n                                <div className='col-sm-12 col-md-3 order-1 order-md-2'>\r\n                                    <a className='d-md-none' data-toggle='collapse' href='#collapseOrder' role='button' aria-expanded='false' aria-controls='collapseOrder'>\r\n                                        <h4 className='text-center'>Toggle Order Summary</h4>\r\n                                    </a>\r\n                                    <div className='collapse d-md-block' id='collapseOrder'>\r\n                                        {showCart()}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Checkout;","import React from 'react';\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\r\n\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport AdminRoute from './components/AdminRoute';\r\n\r\nimport Navbar from './components/Navbar';\r\nimport Home from './components/Home';\r\nimport Contact from './components/Contact';\r\nimport About from './components/About';\r\nimport Products from './components/Products';\r\nimport Product from './components/Product';\r\nimport Signup from './components/Signup';\r\nimport Signin from './components/Signin';\r\nimport ForgotPassword from './components/ForgotPassword';\r\nimport UserAccount from './components/UserAccount';\r\nimport UserOrders from './components/UserOrders';\r\nimport UpdateUserAccount from './components/UpdateUserAccount';\r\nimport ManageCategories from './components/ManageCategories';\r\nimport ManageProducts from './components/ManageProducts';\r\nimport ManageOrders from './components/ManageOrders';\r\nimport CreateProduct from './components/CreateProduct';\r\nimport UpdateProduct from './components/UpdateProduct';\r\nimport Cart from './components/Cart';\r\nimport Checkout from './components/Checkout';\r\n\r\nconst App = () => {\r\n    return (\r\n        <div>\r\n            <BrowserRouter>\r\n                <Navbar />\r\n                <Switch>\r\n                    <Route path='/' exact component={Home} />\r\n                    <Route path='/contact' exact component={Contact} />\r\n                    <Route path='/about' exact component={About} />\r\n                    <Route path='/products' exact component={Products} />\r\n                    <Route path='/signup' exact component={Signup} />\r\n                    <Route path='/signin' exact component={Signin} />\r\n                    <Route path='/password/forgot' exact component={ForgotPassword} />\r\n                    <AdminRoute path='/manage/categories' exact component={ManageCategories} />\r\n                    <AdminRoute path='/manage/products' exact component={ManageProducts} />\r\n                    <AdminRoute path='/manage/orders' exact component={ManageOrders} />\r\n                    <PrivateRoute path='/:userId/account' exact component={UserAccount} />\r\n                    <PrivateRoute path='/:userId/orders' exact component={UserOrders} />\r\n                    <PrivateRoute path='/:userId/account/update' exact component={UpdateUserAccount} />\r\n                    <AdminRoute path='/product/create' exact component={CreateProduct} />\r\n                    <AdminRoute path='/product/update/:productId' exact component={UpdateProduct} />\r\n                    <Route path='/product/:productId' exact component={Product} />\r\n                    <Route path='/cart' exact component={Cart} />\r\n                    <Route path='/checkout' exact component={Checkout} />\r\n                </Switch>\r\n            </BrowserRouter>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}